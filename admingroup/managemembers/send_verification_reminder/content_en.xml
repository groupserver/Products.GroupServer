<?xml version="1.0" ?>
<root
  xmlns:tal="http://xml.zope.org/namespaces/tal" 
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:xf="http://www.w3.org/2002/xforms">
  <data tal:content="structure python:here.models(method='xml')"/>
  <output>
    <content 
      tal:define="site here/Scripts/get/division_object;
      siteName python:here.Scripts.get.option('siteName') or site.title_or_id();
      site_root here/site_root;
      group_object here/Scripts/get/group_object;
      userId python:request.get('userId','') or (result and result['form']['userid']);
      userName python:here.Scripts.get.user_realnames(userId, True);">
      
      <tal:block tal:condition="userId"
        tal:define="canSendReminders python:True;">
        <!-->tal:define="reminders python:userObj.getProperty('reminders_sent');
        canSendReminders python:(not reminders) or len(reminders) &lt; 5"-->
        <heading1>
          Send a Verification Reminder to  
          <span tal:content="userName"/> 
        </heading1>
        
        <paragraph tal:condition="canSendReminders">
          <span tal:content="userName"/> 
          is an unverified member of
          <span class="group" tal:content="group_object/title_or_id"/>.
          You can send a verification reminder to 
          <span tal:content="userName"/>
          by clicking <span class="button">Send</span> below.
          <span tal:content="userName"/>  
          will then be sent an email message that reminds the user of the
          need to verify before he or she can send and receive messages from
          <span class="group" tal:content="group_object/title_or_id"/>.
        </paragraph>
        
        <paragraph tal:condition="not:canSendReminders">
          You cannot send another reminder to 
          <span tal:content="userName"/>,
          as five have been sent already.
        </paragraph>
        
        <xf:submit tal:condition="canSendReminders"
          class="button" model="verification_reminder" submission="send">
          <xf:label>Send</xf:label>
        </xf:submit>
      </tal:block>
      <tal:block tal:condition="not:userId">
        <pagraph>User ID not specified.</pagraph>
      </tal:block>
    </content>
  </output>
</root>
