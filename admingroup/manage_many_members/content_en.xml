<?xml version="1.0" ?>
<root
  xmlns:tal="http://xml.zope.org/namespaces/tal" 
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:xf="http://www.w3.org/2002/xforms">
  <data tal:content="structure python:here.models(method='xml')"/>
  <output>
    <content 
      tal:define="site here/Scripts/get/division_object;
      group_object here/Scripts/get/group_object;">
      
      <heading1>
        Manage the Many Members of 
        <span class="group"
          tal:content="group_object/title_or_id"/>
      </heading1>

      <paragraph>
        There 
        <span tal:define="member_count here/Scripts/get/group_member_count"
          tal:replace="python:member_count == 1 and 'is %s member' % member_count or 'are %s members' % member_count"/>
        in this group.
      </paragraph>
      
      <bulletlist class="contacts">
        <tal:block tal:repeat="userobj here/Scripts/get/all_group_members">
          <listitem>
            <xf:select appearance="full" model="manage_many_members"
              ref="member_ids">
              <xf:item>
                <xf:label>Manage
                  <span tal:replace="userobj/preferredName"/>
                  (<span tal:replace="userobj/getId"/>)
                </xf:label>
                <xf:value tal:content="userobj/getId"></xf:value>
              </xf:item>
            </xf:select>
          </listitem>
        </tal:block>
      </bulletlist><!--memberlist-->
      
      <xf:submit class="button" 
      model="manage_many_members"
        submission="manage">
        <xf:label>Manage</xf:label>
      </xf:submit>
    </content>
  </output>
</root>

