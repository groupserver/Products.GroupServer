<?xml version="1.0" ?>
<root xmlns:tal="http://xml.zope.org/namespaces/tal" 
  xmlns:metal="http://xml.zope.org/namespaces/metal" 
  xmlns:xf="http://www.w3.org/2002/xforms">
  <data tal:content="structure python:getattr(context, 'models')(method='xml')" />
  <output>
    <content tal:define="site_object here/Scripts/get/division_object">

      <heading1>Start a New Group: Preview</heading1>
      
      <paragraph>The following samples show how the current group
        settings will affect email messages and the group
        homepage.</paragraph>

      <heading3 id="emailMessagePreview">Email Message
        Preview</heading3>

      <paragraph>
        The following is a preview of an email message sent
        <em>from</em> a group to a user.
        The group identifier is used to form the email address of the
        group, while the group name is used in the subject-line.
      </paragraph>

      <div class="emaildetails-odd">
        <paragraph>
          <bold>From:</bold> 
          <span class="email"
						tal:content="python:user.get_emailAddresses()[0]">example_user@example.site</span><br/>
          <bold>To:</bold>
          <span class="email"><span tal:replace="python:request.get('groupId', '')"/>@<span tal:replace="python:context.Scripts.get.option('canonicalHost', 'localhost.localdomain')"/></span><br/>
          <bold>Subject:</bold>
          [<span tal:replace="python:request.get('groupName', '')"/>]
          An Email Preview<br/>
					<br/>
This is a preview of an email message that is sent to <span tal:replace="python:request.get('groupName', '')"/>.<br/>
Such messages will be shown on the Web, and will be sent to all users<br/>
who wish to receive messages from the group. The group ID is used to<br/>
form the email address for the group, while the group name is used in<br/>
the subject-line of the group.<br/>

					<span
						tal:replace="structure python:here.fake_footer(request.get('groupId', ''), request.get('groupName', ''), here.Scripts.get.option('canonicalHost', 'onlinegroups.net'))"/>
        </paragraph>
      </div>

      <heading3 id="homepagePreview">Homepage Preview</heading3>

      <paragraph>
        The following is a preview of the group homepage,
        based on the settings you have entered.
        The group name is used to form the heading of the page, while
        the heading and the real-life group is used to form the
        introductory text.
        Finally, the group identifier is used to form the URL for the
        group.
      </paragraph>

      <paragraph class="locationbar">
        http://<span tal:replace="site_object/getId"/>.onlinegroups.net/groups/<span tal:replace="python:request.get('groupId', '')"/>
      </paragraph>
      <div class="example">
        <div class="sitenavigation">
          <ul>
            <li class="homelink">Home</li>
            <li class="groupslink">Groups</li>
            <li class="helplink">Help</li>
          </ul>
        </div>
        <div class="titlebar">
          <span class="division">
            <span tal:content="site_object/title_or_id"/>
          </span>
        </div>
        <div class="exampleContent">
          <paragraph class="breadcrumb">
            > <link url="#">home</link> > <link url="#">groups</link> > index.xml
          </paragraph>
          <heading1>
            <span tal:replace="python:request.get('groupName', '')"/>
            Home
          </heading1>
          <paragraph>
            <span tal:replace="python:request.get('groupName', '')"/>
            is an online group for
            <span tal:replace="python:request.get('realLifeGroup', '')"/>.
          </paragraph>
        
					<div class="topics"
						tal:condition="python:request.get('groupType', 'standard')=='standard'">
						<heading2><link url="#">Latest Topics</link></heading2>
						<bulletlist>
							<listitem><link url="#">More stuff</link></listitem>
							<listitem><link url="#">A topic that talks about how stuff 
									relates to things</link></listitem>
							<listitem><link url="#">A topic that has nothing to do
									with stuff</link></listitem>
							<listitem><link url="#">Another topic about related
									stuff</link></listitem>
							<listitem><link url="#">Sample topic about
									stuff</link></listitem>
						</bulletlist>
					</div>

					<div class="posts"
						tal:condition="python:request.get('groupType', 'standard')=='announcement'">
						<heading2><link url="#">Latest Posts</link></heading2>
						<bulletlist>
							<listitem><link url="#">A post related
									stuff</link></listitem>
							<listitem><link url="#">A post that talks about how stuff 
									relates to things</link></listitem>
							<listitem><link url="#">A post about stuff</link></listitem>
							<listitem><link url="#">A post related
									stuff</link></listitem>
							<listitem><link url="#">A post about
									stuff</link></listitem>
						</bulletlist>
					</div>
				</div>
      </div>

      <heading2>Settings</heading2>
      
      <paragraph>You can change the settings below, and either preview
        the page or start the group.</paragraph>

      <fieldset>
				<legend>Group Type</legend>
        <xf:select1 model="start_a_group" ref="groupType" appearance="full">
          <xf:item>
            <xf:label>A discussion group</xf:label>
            <xf:value>standard</xf:value>
          </xf:item>
          <xf:item>
            <xf:label>An announcement group</xf:label>
            <xf:value>announcement</xf:value>
          </xf:item>
        </xf:select1>
			</fieldset>

      <xf:input model="start_a_group" ref="groupName" class="text">
        <xf:label>Name</xf:label>
        <xf:hint>Please enter the name of the group.</xf:hint>
      </xf:input>

      <xf:input model="start_a_group" ref="groupId" class="text">
        <xf:label>Group ID</xf:label>
        <xf:hint>Please enter the ID for the group.</xf:hint>
      </xf:input>

      <xf:input model="start_a_group" ref="realLifeGroup" class="text">
        <xf:label>Real-Life Group</xf:label>
        <xf:hint>Please enter a description of the real-life 
          group.</xf:hint>
      </xf:input>

      <fieldset>
        <legend>Privacy</legend>
        <xf:select1 appearance="full" model="start_a_group"
          ref="privacy">
          <xf:item>
            <xf:label>Public Group: anyone can see the group, and the
              messages posted to the group.</xf:label>
            <xf:value>public</xf:value>
          </xf:item>
        </xf:select1>
        <xf:select1 appearance="full" model="start_a_group"
          ref="privacy">
          <xf:item>
            <xf:label>Private Group: only group members can see the
              existence of the group, and the messages posted to the
              group.</xf:label>
            <xf:value>private</xf:value>
          </xf:item>
        </xf:select1>
      </fieldset>

      <xf:submit model="start_a_group" submission="preview" class="button">
        <xf:label>Preview</xf:label>
        <xf:hint>Preview the group.</xf:hint>
      </xf:submit>

      <xf:submit model="start_a_group" submission="start" class="button">
        <xf:label>Start</xf:label>
        <xf:hint>Start the group.</xf:hint>
      </xf:submit>
    </content>
  </output>
</root>
